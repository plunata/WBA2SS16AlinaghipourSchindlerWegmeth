<% include standards/header %>

<form id="userform" enctype="application/json">

    <label>Geschlecht</label><br>

    <select name="geschlecht">
        <option value="0">Bitte wählen</option>
        <option value="m">Herr</option>
        <option value="f">Frau</option>
    </select><br>

    <label>Vorname</label> <br>
    <input maxlength="50" name="firstname" size="45" type="text"/><br>

    <label>Nachname</label> <br>
    <input maxlength="50" name="lastname" size="45" type="text"/><br>

    <label>Passwort</label> <br>
    <input maxlength="50" name="password" size="45" type="text"/><br>

    <label>E-mail</label> <br>
    <input name="email" type="email" size="45" type="text"/><br>

    <label>Repository</label> <br>
    <input name="repository" size="45" type="text" value="http://github.com/"/><br>

    <label>Rolle</label> <br>
    <select name="rule">
        <option value="0">Bitte wählen</option>
        <option value="1">Programmierer</option>
        <option value="2">Dokumentierer</option>
        <option value="3">Leiter</option>
        <option value="4">Designer</option>
    </select><br>

    <input type="button" id="submitbtn" value="Registrieren"/>
    <input type="reset" form="userform" value="Eingaben löschen" onClick="clear();">

</form>

<div id="message"></div>


<script>
    $(document).ready(function () {
        // click on button submit
        $("#submitbtn").on('click', function () {
            // send ajax
            $.ajax({
                url: 'http://localhost:3001/registration', // url where to submit the request
                type: "POST", // type of action POST || GET
                data: $("#userform").serialize(),
                success: function (result) {
                    $('#message').html(result);
                },
                error: function (xhr, resp, text) {
                    $('#message').html(text);
                    console.log(text);
                }
            })
        });
    });

</script>


<% include standards/footer %>